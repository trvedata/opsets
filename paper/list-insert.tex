\mathrm{isListElem}(\mathit{Oid}) \leftarrow\; &
    \mathrm{insertAfter}(\mathit{Oid}, \mathit{Parent}).\\
\mathrm{hasChild}(\mathit{Parent}) \leftarrow\; &
    \mathrm{insertAfter}(\mathit{Child}, \mathit{Parent}).\\
\mathrm{laterChild}(\mathit{Parent}, \mathit{Child2}) \leftarrow\; &
    \mathrm{insertAfter}(\mathit{Child1}, \mathit{Parent}),\;
    \mathrm{insertAfter}(\mathit{Child2}, \mathit{Parent}),\;
    \mathit{Child1} > \mathit{Child2}.\\
\mathrm{firstChild}(\mathit{Parent}, \mathit{Child}) \leftarrow\; &
    \mathrm{insertAfter}(\mathit{Child}, \mathit{Parent}),\;
    \neg\;\mathrm{laterChild}(\mathit{Parent}, \mathit{Child}).\\
\mathrm{sibling}(\mathit{Child1}, \mathit{Child2}) \leftarrow\; &
    \mathrm{insertAfter}(\mathit{Child1}, \mathit{Parent}),\;
    \mathrm{insertAfter}(\mathit{Child2}, \mathit{Parent}).\\
\mathrm{laterSibling}(\mathit{Sib1}, \mathit{Sib2}) \leftarrow\; &
    \mathrm{sibling}(\mathit{Sib1}, \mathit{Sib2}),\;
    \mathit{Sib1} > \mathit{Sib2}.\\
\mathrm{laterSibling2}(\mathit{Sib1}, \mathit{Sib3}) \leftarrow\; &
    \mathrm{sibling}(\mathit{Sib1}, \mathit{Sib2}),\;
    \mathrm{sibling}(\mathit{Sib1}, \mathit{Sib3}),\;
    \mathit{Sib1} > \mathit{Sib2},\;
    \mathit{Sib2} > \mathit{Sib3}.\\
\mathrm{nextSibling}(\mathit{Sib1}, \mathit{Sib2}) \leftarrow\; &
    \mathrm{laterSibling}(\mathit{Sib1}, \mathit{Sib2}),\;
    \neg\;\mathrm{laterSibling2}(\mathit{Sib1}, \mathit{Sib2}).\\
\mathrm{hasNextSibling}(\mathit{Sib1}) \leftarrow\; &
    \mathrm{laterSibling}(\mathit{Sib1}, \mathit{Sib2}).\\
\mathrm{nextSiblingAnc}(\mathit{Start}, \mathit{Next}) \leftarrow\; &
    \mathrm{nextSibling}(\mathit{Start}, \mathit{Next}).\\
\mathrm{nextSiblingAnc}(\mathit{Start}, \mathit{Next}) \leftarrow\; &
    \neg\;\mathrm{hasNextSibling}(\mathit{Start}),\;
    \mathrm{insertAfter}(\mathit{Start}, \mathit{Parent}),\;
    \mathrm{nextSiblingAnc}(\mathit{Parent}, \mathit{Next}).\\
\mathrm{hasSiblingAnc}(\mathit{Start}) \leftarrow\; &
    \mathrm{nextSiblingAnc}(\mathit{Start}, \mathit{Next}).\\
\mathrm{nextElem}(\mathit{Prev}, \mathit{Next}) \leftarrow\; &
    \mathrm{firstChild}(\mathit{Prev}, \mathit{Next}).\\
\mathrm{nextElem}(\mathit{Prev}, \mathit{Next}) \leftarrow\; &
    \mathrm{isListElem}(\mathit{Prev}),\;
    \neg\;\mathrm{hasChild}(\mathit{Prev}),\;
    \mathrm{nextSiblingAnc}(\mathit{Prev}, \mathit{Next}).\\
